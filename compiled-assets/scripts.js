(()=>{"use strict";!function(e){var t,n,i,o,a,r,s,l,c,p,u=window.THREE,h=new window.SimplexNoise,d=new u.Vector2,m=(new u.Plane(new u.Vector3(0,0,1),0),document.getElementById(e.el)),f=document.getElementById(e.wrapperEl);function w(e){return"string"==typeof e&&(e.startsWith("#")&&(e=e.replace("#","0x")),e=Number(e)),e}function g(t,i,o,a,r){var s=new u.PointLight(w(t),e.lightIntensity,i);return s.position.set(o,a,r),n.add(s),s}function v(){var o,a;!function(){for(var t=l.geometry.attributes.position.array,n=2e-4*Date.now(),i=0;i<t.length;i+=3)t[i+2]=h.noise4D(t[i]/e.xyCoef,t[i+1]/e.xyCoef,n,d.x+d.y)*e.zCoef;l.geometry.attributes.position.needsUpdate=!0}(),o=.001*Date.now(),a=50,c&&(c.position.x=Math.sin(.1*o)*a,c.position.z=Math.cos(.2*o)*a),p&&(p.position.x=Math.sin(.5*o)*a,p.position.z=Math.sin(.6*o)*a),t.render(n,i),setTimeout((function(){return requestAnimationFrame(v)}),10)}function C(){var n=f.clientWidth,l=f.clientHeight;if(o=n,a=l,t&&i){t.setSize(o,a),i.aspect=o/a,i.updateProjectionMatrix();var c=function(){var t=new u.PerspectiveCamera(i.fov,i.aspect),n=t.fov*Math.PI/180,o=2*Math.tan(n/2)*Math.abs(e.cameraZ);return[o*t.aspect,o]}();r=c[0],s=c[1]}}t=new u.WebGLRenderer({canvas:m,antialias:!0,alpha:!0}),(i=new u.PerspectiveCamera(e.fov)).position.z=e.cameraZ,C(),window.addEventListener("resize",C,!1),function(){var t;n=new u.Scene,t=new u.AmbientLight(w(e.ambientColor)),n.add(t),c=g(e.light1Color,300,0,10,30),p=g(e.light3Color,300,30,10,0);var o=new u.MeshLambertMaterial({color:16777215,side:u.DoubleSide}),a=new u.PlaneBufferGeometry(r,s,r/2,s/2);l=new u.Mesh(a,o),n.add(l);var h=-Math.PI/2-.1;l.rotation.x=h,l.position.y=20,i.position.z=30,console.log("[VisualAnimation:initScene]",{planeRotationX:h,planePositionY:20,cameraPositionZ:30})}(),v()}({el:"VisualAnimation",wrapperEl:"PageVisual",fov:70,cameraZ:100,xyCoef:250,zCoef:15,lightIntensity:1,ambientColor:"#cc2200",light1Color:"#4b9e89",light2Color:"#5c75a1",light3Color:"#1418cd",light4Color:"#b9caec"})})();
//# sourceMappingURL=scripts.js.map
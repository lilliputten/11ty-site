(()=>{"use strict";(()=>{var t=!1;function e(e){var n,o,i,a,r,s,c,l,d,u,h,m,p=window.THREE,w=new window.SimplexNoise,g=new p.Vector2,f=new p.Plane(new p.Vector3(0,0,1),0),v=document.getElementById(e.el),b=document.getElementById(e.wrapperEl);function y(t){var e=new p.Vector3;i.getWorldDirection(e),e.normalize(),f.normal=e,g.x=t.clientX/a*2-1,g.y=-t.clientY/r*2+1}function M(t){return"string"==typeof t&&(t.startsWith("#")&&(t=t.replace("#","0x")),t=Number(t)),t}function C(t,n,i,a,r){var s=new p.PointLight(M(t),e.lightIntensity,n);return s.position.set(i,a,r),o.add(s),s}function x(){!function(){for(var t=l.geometry.attributes.position.array,n=2e-4*Date.now(),o=0;o<t.length;o+=3)t[o+2]=w.noise4D(t[o]/e.xyCoef,t[o+1]/e.xyCoef,n,g.x+g.y)*e.zCoef;l.geometry.attributes.position.needsUpdate=!0}(),function(){var t=.001*Date.now(),e=50;d&&(d.position.x=Math.sin(.1*t)*e,d.position.z=Math.cos(.2*t)*e);u&&(u.position.x=Math.cos(.3*t)*e,u.position.z=Math.sin(.4*t)*e);h&&(h.position.x=Math.sin(.5*t)*e,h.position.z=Math.sin(.6*t)*e);m&&(m.position.x=Math.sin(.7*t)*e,m.position.z=Math.cos(.8*t)*e)}(),n.render(o,i),setTimeout((function(){return requestAnimationFrame(x)}),10)}function z(){var t=b.clientWidth,o=b.clientHeight;if(a=t,r=o,n&&i){n.setSize(a,r),i.aspect=a/r,i.updateProjectionMatrix();var l=function(){var t=new p.PerspectiveCamera(i.fov,i.aspect),n=t.fov*Math.PI/180,o=2*Math.tan(n/2)*Math.abs(e.cameraZ),a=o*t.aspect;return[a,o]}();s=l[0],c=l[1]}}!function(){n=new p.WebGLRenderer({canvas:v,antialias:!0,alpha:!0}),(i=new p.PerspectiveCamera(e.fov)).position.z=e.cameraZ,z(),window.addEventListener("resize",z,!1),t&&document.addEventListener("mousemove",y);(function(){o=new p.Scene,t=30,n=10,a=300,r=new p.AmbientLight(M(e.ambientColor)),o.add(r),d=C(e.light1Color,a,0,n,t),h=C(e.light3Color,a,t,n,0);var t,n,a,r;var u=new p.MeshLambertMaterial({color:16777215,side:p.DoubleSide}),m=new p.PlaneBufferGeometry(s,c,s/2,c/2);l=new p.Mesh(m,u),o.add(l);var w=-Math.PI/2-.1,g=20,f=30;l.rotation.x=w,l.position.y=g,i.position.z=f,console.log("[VisualAnimation:initScene]",{planeRotationX:w,planePositionY:g,cameraPositionZ:f})})(),x()}()}e({el:"VisualAnimation",wrapperEl:"PageVisual",fov:70,cameraZ:100,xyCoef:250,zCoef:15,lightIntensity:1,ambientColor:"#cc2200",light1Color:"#4b9e89",light2Color:"#5c75a1",light3Color:"#1418cd",light4Color:"#b9caec"}),window.toggleTheme=function(){var t=window.document.body,e=t&&t.parentNode,n="light"===(e.dataset?e.dataset.theme:e.getAttribute?e.getAttribute("theme"):"")?"dark":"light";n&&e&&(e.setAttribute?e.setAttribute("data-theme",n):e.dataset&&(e.dataset.theme=n)),window.localStorage&&window.localStorage.setItem("theme",n)}})()})();
//# sourceMappingURL=scripts.js.map